#!/bin/bash

# åˆ‡æ¢åˆ°è„šæœ¬æ‰€åœ¨ç›®å½•
cd "$(dirname "$0")"

# æ‰“å°å¯åŠ¨æ¨ªå¹…
echo "============================================================"
echo "ğŸ¤– å¤šæ™ºèƒ½ä½“è¯­éŸ³åŠ©æ‰‹ç³»ç»Ÿ"
echo "============================================================"
echo "ğŸ“Š è§„åˆ’è€…: o3-2025-04-16 (é—®é¢˜ç†è§£ + æˆ˜ç•¥è§„åˆ’)"
echo "ğŸš€ æ‰§è¡Œè€…: o3-2025-04-16 (ä»£ç æ‰§è¡Œ + æŠ€æœ¯å®ç°)"
echo "ğŸ“ æ€»ç»“è€…: o4-mini (å†…å®¹é‡ç»„ + æ ¼å¼ä¼˜åŒ–)"
echo "ğŸ” åé¦ˆè€…: gpt-4o-2024-11-20 (è´¨é‡è¯„ä¼°)"
echo "ğŸ‘¤ ç”¨æˆ·ä»£ç†: äº¤äº’ç®¡ç†"
echo "============================================================"
echo ""
echo "ğŸš€ å¯åŠ¨å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ..."
echo "ğŸ’¡ æç¤º: è¾“å…¥æ‚¨çš„é—®é¢˜ï¼Œç³»ç»Ÿå°†é€šè¿‡äº”æ™ºèƒ½ä½“åä½œä¸ºæ‚¨è§£ç­”"
echo "ğŸ“Œ å·¥ä½œæµç¨‹: ç”¨æˆ·ä»£ç† â†’ è§„åˆ’è€… â†’ æ‰§è¡Œè€… â†’ æ€»ç»“è€… â†’ åé¦ˆè€…"
echo "------------------------------------------------------------"

# æ£€æŸ¥ Python æ˜¯å¦å¯ç”¨
if ! command -v python3 &> /dev/null && ! command -v python &> /dev/null; then
    echo "âŒ é”™è¯¯: æœªæ‰¾åˆ° Pythonï¼Œè¯·ç¡®ä¿å·²å®‰è£… Python 3.8+"
    exit 1
fi

# ä¼˜å…ˆä½¿ç”¨ python3ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä½¿ç”¨ python
if command -v python3 &> /dev/null; then
    PYTHON_CMD="python3"
else
    PYTHON_CMD="python"
fi

# ä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬
if [ -f "start.py" ]; then
    $PYTHON_CMD start.py --no-test
else
    # å¦‚æœå¯åŠ¨è„šæœ¬ä¸å­˜åœ¨ï¼Œç›´æ¥è¿è¡Œä¸»ç¨‹åº
    $PYTHON_CMD app.py
fi
